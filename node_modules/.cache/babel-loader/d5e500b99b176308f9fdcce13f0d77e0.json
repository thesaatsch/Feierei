{"ast":null,"code":"import _slicedToArray from\"/Users/sba/Feierei/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import'./styles.scss';import mountain1 from\"../../assets/mountain1.svg\";import mountain2 from\"../../assets/mountain2.svg\";import land from\"../../assets/land.svg\";import portal from\"../../assets/portal.svg\";import moon from\"../../assets/moon.svg\";import enterKey from\"../../assets/enter.svg\";import keys from\"../../assets/keys.svg\";import keysDisabled from\"../../assets/keys-disabled.svg\";import assistant from\"../../assets/assistant.svg\";function Weinfest(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),blockSceneChange=_useState2[0],setBlockSceneChange=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var nameInput=useRef(null);var storyPoints=[{text:\"Welcome stranger. I’m Robin, a visitor from a magical place in the south of Germany.\",position:0},{text:\"What might I call you?\",position:0,name:true,keysDisabled:true},{text:\"Hello, nice to meet you.\",position:0},{text:\"I’m a bit of a storyteller. Have you ever heard the tale of the three wine brothers?\",position:0,action:\"decision\"},{text:\"Well, a long time ago, there were three brothers.\",position:20},{text:\"Their parents were makers of fine wines and the boys often played in the mysical vinyards.\",position:840},{text:\"One day, they found a golden grape.\",position:2020// Gold = 2020\n},{text:\"Curious as they were, they picked it.\",position:2320},{text:\"Suddenly, a door appeared. They jumped in and entered a magical world.\",position:2600},{text:\"Green hills covered in golden sunlight rose before them.\",position:2920,// Mountain appears\nmountainTop:40,mountainBottom:60},{text:\"The air was full of laughter, singing and loud voices.\",position:3720,mountainTop:40,mountainBottom:60},{text:\"Following the sounds they found themselves on a busy marketplace.\",position:4720,mountainTop:40,mountainBottom:60,land:true},{text:\"Everyone was drinking from big glasses of wine. They couldn’t believe how cheap it was.\",position:6200,// Midday\nmountainTop:40,mountainBottom:60,land:true},{text:\"The three brothers loved it here and decided to stay.\",position:7400,mountainTop:40,mountainBottom:60,land:true},{text:\"That’s how they founded their own wine village called Mußbach.\",position:7900,mountainTop:40,mountainBottom:60,land:true},{text:\"A village where time slows down and strangers become friends.\",position:8900,mountainTop:40,mountainBottom:60,land:true},{text:\"This year, you are given the golden grape to enter that magical place.\",position:10000,land:true,mountainTop:20,mountainBottom:50},{text:\"On Friday take your time to arrive and settle.\",position:11500,mountainTop:20,mountainBottom:40,land:true},{text:\"Have a good night sleep from a work week and train ride.\",position:13100,mountainTop:20,mountainBottom:40,land:true,moon:true},{text:\"After a slow Saturday morning we embark on our first adventure. Green hills are calling for a wine expedition.\",position:15000,mountainTop:20,mountainBottom:40,land:true},{text:\"Regional wine and delicious regional food awaits us at the hill top.\",position:16000,mountainTop:20,mountainBottom:40,land:true},{text:\"That’s where we hang out until we are reenergized. \",position:17000,mountainTop:20,mountainBottom:40,land:true},{text:\"The way down everything seems a little bit easier.\",position:18000,mountainTop:70,mountainBottom:90,land:true},{text:\"Before you notice we’re back home to enjoy a nap in the hammock.\",position:20000,mountainTop:70,mountainBottom:80,land:true},{text:\"When the sun sets, we walk to the vibrating marketplace and the wine festival.\",position:22500,mountainTop:20,mountainBottom:30,land:true},{text:\"Let’s hope there is enough wine for everyone.\",position:25500,mountainTop:20,mountainBottom:30,land:true,moon:true},{text:\"Who knows where the night will end?\",position:26500,// Night\nmountainTop:20,mountainBottom:30,land:true,moon:true},{text:\"Fast forward. The next morning might be a bit hard. But believe me, it was worth it.\",position:29000,// Morning\nmountainTop:20,mountainBottom:30,land:true},{text:\"Finally, even in the tiny village of Mußbach time is passing, however slowly.\",position:29500,// Midday\nmountainTop:20,mountainBottom:30,land:true},{text:\"Are you curious to be part of this event?\",position:32000},{text:\"Make sure to block the 03 to 05 of July in your calendar.\",position:33000},{text:\"Sign up and I’ll let you know once things get more serious.\",position:32500,signup:true,keysDisabled:true}];var _useState5=useState(storyPoints[0]),_useState6=_slicedToArray(_useState5,2),storyPoint=_useState6[0],setStoryPoint=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),storyIndex=_useState8[0],setStoryIndex=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isHidden=_useState10[0],setIsHidden=_useState10[1];useEffect(function(){document.onkeydown=function(event){if(event.keyCode===39)changeScene('forward');else if(event.keyCode===37)changeScene('backward');};// Loading scene\nsetTimeout(function(){setLoading(false);},2500);},[storyIndex]);var changeScene=function changeScene(){var direction=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'forward';var forceUnblock=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(storyIndex===storyPoints.length-1)return;if(blockSceneChange&&!forceUnblock)return;var _storyIndex=storyIndex;blockNameChange(_storyIndex,direction);// Hide text and change it\nif(_storyIndex<storyPoints.length-1&&_storyIndex>0)setIsHidden(true);// Change story point\nif(direction==='forward'&&_storyIndex<storyPoints.length-1)_storyIndex++;else if(direction==='backward'&&_storyIndex>0)_storyIndex--;var contentElement=document.getElementById('weinfest-content');contentElement.style.marginLeft='-'+storyPoints[_storyIndex].position+'px';setTimeout(function(){// Next story point\nsetStoryPoint(storyPoints[_storyIndex]);setStoryIndex(_storyIndex);setIsHidden(false);nameInput.current.focus();},700);};var blockNameChange=function blockNameChange(_storyIndex,direction){if(direction==='forward'&&storyPoints[_storyIndex+1].name){setBlockSceneChange(true);}else if(direction==='backward'&&storyPoints[_storyIndex-1].name){setBlockSceneChange(true);}};var unblockNameChange=function unblockNameChange(event){// Unblock with enter and change name\nif(event.keyCode===13){// Default name\nif(nameInput.current.value.length===0)nameInput.current.value=\"Mysterious\";setBlockSceneChange(false);storyPoints[2].text=\"Hello \"+nameInput.current.value+\", nice to meet you.\";setStoryIndex(2);console.log(storyIndex);changeScene('forward',true);}};return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:'loader-1 loader '+(!loading?'hidden':'')},React.createElement(\"span\",null,\"Loading...\")),React.createElement(\"div\",{className:'loader-2 loader '+(!loading?'hidden':'')}),React.createElement(\"div\",{className:\"weinfest-page evening\",onClick:function onClick(){return changeScene('forward');}},React.createElement(\"span\",{className:'story '+(isHidden?' hide-story':' show-story')},storyPoint.text,React.createElement(\"div\",{style:{display:storyPoint.name?'block':'none'}},React.createElement(\"input\",{ref:nameInput,type:\"text\",onKeyDown:unblockNameChange,className:'input-name'}),React.createElement(\"img\",{src:enterKey,alt:'enter',className:'name-enter'}),React.createElement(\"span\",{className:\"helper-text\"},\"Please start typing, then hit enter.\")),React.createElement(\"a\",{target:\"_blank\",style:{display:storyPoint.signup?'block':'none'},className:'signup',href:\"https://sascharedmond.typeform.com/to/Y4VHnL\"},\"Sign up here\")),React.createElement(\"div\",{className:\"progress\",style:{width:storyIndex/storyPoints.length*100+'%'}}),React.createElement(\"img\",{className:'assistant',src:assistant}),React.createElement(\"div\",{id:'weinfest-content'},React.createElement(\"a\",{target:\"_blank\",className:'signup-quick',href:\"https://sascharedmond.typeform.com/to/Y4VHnL\"},\"Sign up without the story\"),React.createElement(\"img\",{className:'mountain mountain-bottom',alt:\"mountain-bottom\",style:{bottom:storyPoint.mountainBottom?-storyPoint.mountainBottom:-420},src:mountain1}),React.createElement(\"img\",{className:'mountain mountain-top',alt:\"mountain-top\",style:{bottom:storyPoint.mountainTop?-storyPoint.mountainTop:-420},src:mountain2}),React.createElement(\"img\",{className:'land',alt:\"land\",style:{bottom:storyPoint.land?0:-200},src:land}),React.createElement(\"img\",{className:'portal',alt:\"portal\",style:{bottom:storyPoint.portal?20:-800},src:portal}),React.createElement(\"img\",{className:'moon',alt:\"moon\",style:{bottom:storyPoint.moon?300:-400},src:moon}),React.createElement(\"img\",{src:storyPoint.keysDisabled?keysDisabled:keys,className:'keys',alt:\"keys\"}))));};export default Weinfest;","map":{"version":3,"sources":["/Users/sba/Feierei/src/components/weinfest/index.js"],"names":["React","useState","useEffect","useRef","Weinfest","blockSceneChange","setBlockSceneChange","loading","setLoading","nameInput","storyPoints","text","position","name","keysDisabled","action","mountainTop","mountainBottom","land","moon","signup","storyPoint","setStoryPoint","storyIndex","setStoryIndex","isHidden","setIsHidden","document","onkeydown","event","keyCode","changeScene","setTimeout","direction","forceUnblock","length","_storyIndex","blockNameChange","contentElement","getElementById","style","marginLeft","current","focus","unblockNameChange","value","console","log","display","enterKey","width","assistant","bottom","mountain1","mountain2","portal","keys"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './styles.scss';\nimport mountain1 from '../../assets/mountain1.svg';\nimport mountain2 from '../../assets/mountain2.svg';\nimport land from '../../assets/land.svg';\nimport portal from '../../assets/portal.svg';\nimport moon from '../../assets/moon.svg';\nimport enterKey from '../../assets/enter.svg';\nimport keys from '../../assets/keys.svg';\nimport keysDisabled from '../../assets/keys-disabled.svg';\nimport assistant from '../../assets/assistant.svg';\n\nfunction Weinfest() {\n\n    const [blockSceneChange, setBlockSceneChange] = useState(false);\n    const [loading, setLoading] = useState(true);\n\n    const nameInput = useRef(null);\n\n    const storyPoints = [\n        {\n            text: \"Welcome stranger. I’m Robin, a visitor from a magical place in the south of Germany.\",\n            position: 0,\n        },\n        {\n            text: \"What might I call you?\",\n            position: 0,\n            name: true,\n            keysDisabled: true,\n        },\n        {\n            text: \"Hello, nice to meet you.\",\n            position: 0,\n        },\n        {\n            text: \"I’m a bit of a storyteller. Have you ever heard the tale of the three wine brothers?\",\n            position: 0,\n            action: \"decision\",\n        },\n        {\n            text: \"Well, a long time ago, there were three brothers.\",\n            position: 20,\n        },\n        {\n            text: \"Their parents were makers of fine wines and the boys often played in the mysical vinyards.\",\n            position: 840,\n        },\n        {\n            text: \"One day, they found a golden grape.\",\n            position: 2020, // Gold = 2020\n        },\n        {\n            text: \"Curious as they were, they picked it.\",\n            position: 2320,\n        },\n        {\n            text: \"Suddenly, a door appeared. They jumped in and entered a magical world.\",\n            position: 2600,\n        },\n        {\n            text: \"Green hills covered in golden sunlight rose before them.\",\n            position: 2920, // Mountain appears\n            mountainTop: 40,\n            mountainBottom: 60,\n        },\n        {\n            text: \"The air was full of laughter, singing and loud voices.\",\n            position: 3720,\n            mountainTop: 40,\n            mountainBottom: 60,\n        },\n        {\n            text: \"Following the sounds they found themselves on a busy marketplace.\",\n            position: 4720,\n            mountainTop: 40,\n            mountainBottom: 60,\n            land: true,\n        },\n        {\n            text: \"Everyone was drinking from big glasses of wine. They couldn’t believe how cheap it was.\",\n            position: 6200, // Midday\n            mountainTop: 40,\n            mountainBottom: 60,\n            land: true,\n        },\n        {\n            text: \"The three brothers loved it here and decided to stay.\",\n            position: 7400,\n            mountainTop: 40,\n            mountainBottom: 60,\n            land: true,\n        },\n        {\n            text: \"That’s how they founded their own wine village called Mußbach.\",\n            position: 7900,\n            mountainTop: 40,\n            mountainBottom: 60,\n            land: true,\n        },\n        {\n            text: \"A village where time slows down and strangers become friends.\",\n            position: 8900,\n            mountainTop: 40,\n            mountainBottom: 60,\n            land: true,\n        },\n        {\n            text: \"This year, you are given the golden grape to enter that magical place.\",\n            position: 10000,\n            land: true,\n            mountainTop: 20,\n            mountainBottom: 50,\n        },\n        {\n            text: \"On Friday take your time to arrive and settle.\",\n            position: 11500,\n            mountainTop: 20,\n            mountainBottom: 40,\n            land: true,\n        },\n        {\n            text: \"Have a good night sleep from a work week and train ride.\",\n            position: 13100,\n            mountainTop: 20,\n            mountainBottom: 40,\n            land: true,\n            moon: true,\n        },\n        {\n            text: \"After a slow Saturday morning we embark on our first adventure. Green hills are calling for a wine expedition.\",\n            position: 15000,\n            mountainTop: 20,\n            mountainBottom: 40,\n            land: true,\n        },\n        {\n            text: \"Regional wine and delicious regional food awaits us at the hill top.\",\n            position: 16000,\n            mountainTop: 20,\n            mountainBottom: 40,\n            land: true,\n        },\n        {\n            text: \"That’s where we hang out until we are reenergized. \",\n            position: 17000,\n            mountainTop: 20,\n            mountainBottom: 40,\n            land: true,\n        },\n        {\n            text: \"The way down everything seems a little bit easier.\",\n            position: 18000,\n            mountainTop: 70,\n            mountainBottom: 90,\n            land: true,\n        },\n        {\n            text: \"Before you notice we’re back home to enjoy a nap in the hammock.\",\n            position: 20000,\n            mountainTop: 70,\n            mountainBottom: 80,\n            land: true,\n        },\n        {\n            text: \"When the sun sets, we walk to the vibrating marketplace and the wine festival.\",\n            position: 22500,\n            mountainTop: 20,\n            mountainBottom: 30,\n            land: true,\n        },\n        {\n            text: \"Let’s hope there is enough wine for everyone.\",\n            position: 25500,\n            mountainTop: 20,\n            mountainBottom: 30,\n            land: true,\n            moon: true,\n        },\n        {\n            text: \"Who knows where the night will end?\",\n            position: 26500, // Night\n            mountainTop: 20,\n            mountainBottom: 30,\n            land: true,\n            moon: true,\n        },\n        {\n            text: \"Fast forward. The next morning might be a bit hard. But believe me, it was worth it.\",\n            position: 29000, // Morning\n            mountainTop: 20,\n            mountainBottom: 30,\n            land: true,\n        },\n        {\n            text: \"Finally, even in the tiny village of Mußbach time is passing, however slowly.\",\n            position: 29500, // Midday\n            mountainTop: 20,\n            mountainBottom: 30,\n            land: true,\n        },\n        {\n            text: \"Are you curious to be part of this event?\",\n            position: 32000,\n        },\n        {\n            text: \"Make sure to block the 03 to 05 of July in your calendar.\",\n            position: 33000,\n        },\n        {\n            text: \"Sign up and I’ll let you know once things get more serious.\",\n            position: 32500,\n            signup: true,\n            keysDisabled: true,\n        },\n    ]  \n    \n    const [storyPoint, setStoryPoint] = useState(storyPoints[0]);\n    const [storyIndex, setStoryIndex] = useState(0);\n    const [isHidden, setIsHidden] = useState(false);\n\n    useEffect(() => {\n\n        document.onkeydown = (event) => {\n            \n            if (event.keyCode === 39)\n                changeScene('forward');\n            else if (event.keyCode === 37)\n                changeScene('backward')\n        };\n\n        // Loading scene\n        setTimeout(() => {\n            setLoading(false);\n        }, 2500);\n    }, [storyIndex]);\n\n    const changeScene = (direction = 'forward', forceUnblock = false) => {\n\n        if (storyIndex === storyPoints.length - 1)\n            return;\n\n        if (blockSceneChange && !forceUnblock)\n            return;\n\n        let _storyIndex = storyIndex;\n\n        blockNameChange(_storyIndex, direction);\n\n        // Hide text and change it\n        if (_storyIndex < storyPoints.length - 1 && _storyIndex > 0)\n            setIsHidden(true);\n\n        // Change story point\n        if (direction === 'forward' && _storyIndex < storyPoints.length - 1)\n            _storyIndex++;\n        else if (direction === 'backward' && _storyIndex > 0)\n            _storyIndex--;\n\n        let contentElement = document.getElementById('weinfest-content');\n        contentElement.style.marginLeft = '-' + storyPoints[_storyIndex].position + 'px';\n\n        setTimeout(() => {\n            // Next story point\n            setStoryPoint(storyPoints[_storyIndex]);\n            setStoryIndex(_storyIndex);\n            setIsHidden(false);\n\n            nameInput.current.focus(); \n\n        }, 700);\n    };\n\n    const blockNameChange = (_storyIndex, direction) => {\n\n        if (direction === 'forward' && storyPoints[_storyIndex + 1].name) {\n            setBlockSceneChange(true);     \n        }\n        else if (direction === 'backward' && storyPoints[_storyIndex - 1].name) {\n            setBlockSceneChange(true);     \n        }\n    };\n\n    const unblockNameChange = (event) => {\n\n        // Unblock with enter and change name\n        if (event.keyCode === 13) {\n\n            // Default name\n            if (nameInput.current.value.length === 0)\n                nameInput.current.value = \"Mysterious\";\n\n            setBlockSceneChange(false);\n            storyPoints[2].text = \"Hello \" + nameInput.current.value + \", nice to meet you.\";\n\n            setStoryIndex(2);\n            console.log(storyIndex);\n            \n            changeScene('forward', true);\n        }\n    }\n\n    return (\n        <>  \n            <div className={'loader-1 loader ' + (!loading ? 'hidden' : '')}><span>Loading...</span></div> \n            <div className={'loader-2 loader ' + (!loading ? 'hidden' : '')}></div> \n            <div className='weinfest-page evening' onClick={() => changeScene('forward')}>\n\n                <span className={'story ' + (isHidden ? ' hide-story' : ' show-story')}>\n                    {storyPoint.text}\n\n                    <div style={{display: storyPoint.name ? 'block' : 'none'}}>\n                        <input ref={nameInput} type='text' onKeyDown={unblockNameChange} className={'input-name'}/>\n                        <img src={enterKey} alt={'enter'} className={'name-enter'} />\n                        <span className='helper-text'>Please start typing, then hit enter.</span>\n                    </div>\n\n                    <a target='_blank' style={{display: storyPoint.signup ? 'block' : 'none'}} className={'signup'} href='https://sascharedmond.typeform.com/to/Y4VHnL'>Sign up here</a>\n                </span>\n\n                <div className='progress' style={{width: (storyIndex)/ storyPoints.length * 100 + '%'}}></div>\n\n                <img className={'assistant'} src={assistant} />\n\n                <div id={'weinfest-content'}>\n\n                <a target='_blank' className={'signup-quick'} href='https://sascharedmond.typeform.com/to/Y4VHnL'>Sign up without the story</a>\n\n                    <img className={'mountain mountain-bottom'} alt='mountain-bottom' style={{bottom: storyPoint.mountainBottom ? -storyPoint.mountainBottom : -420}} src={mountain1}/>\n\n                    <img className={'mountain mountain-top'} alt='mountain-top' style={{bottom: storyPoint.mountainTop ? -storyPoint.mountainTop : -420}} src={mountain2}/>\n                    \n                    <img className={'land'} alt='land' style={{bottom: storyPoint.land ? 0 : -200}} src={land}/>\n\n                    <img className={'portal'} alt='portal' style={{bottom: storyPoint.portal ? 20 : -800}} src={portal}/>\n\n                    <img className={'moon'} alt='moon' style={{bottom: storyPoint.moon ? 300 : -400}} src={moon}/>\n\n                    <img src={storyPoint.keysDisabled ? keysDisabled : keys} className={'keys'} alt='keys'/>\n                    \n                </div>\n            </div>\n            \n        </>\n    );\n};\n\nexport default Weinfest;"]},"metadata":{},"sourceType":"module"}