{"ast":null,"code":"import _slicedToArray from \"/Users/sba/Feierei/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/sba/Feierei/src/components/weinfest/index.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport './styles.scss';\nimport mountain1 from \"../../assets/mountain1.svg\";\nimport mountain2 from \"../../assets/mountain2.svg\";\nimport land from \"../../assets/land.svg\";\nimport portal from \"../../assets/portal.svg\";\nimport moon from \"../../assets/moon.svg\";\nimport enterKey from \"../../assets/enter.svg\";\nimport keys from \"../../assets/keys.svg\";\nimport keysDisabled from \"../../assets/keys-disabled.svg\";\nimport assistant from \"../../assets/assistant.svg\";\n\nfunction Weinfest() {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        blockSceneChange = _useState2[0],\n        setBlockSceneChange = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        loading = _useState4[0],\n        setLoading = _useState4[1];\n\n  const nameInput = useRef(null);\n  const storyPoints = [{\n    text: \"Welcome stranger. I’m Robin, a visitor from a magical place in the south of Germany.\",\n    position: 0\n  }, {\n    text: \"What might I call you?\",\n    position: 0,\n    name: true,\n    keysDisabled: true\n  }, {\n    text: \"Hello, nice to meet you.\",\n    position: 0\n  }, {\n    text: \"I’m a bit of a storyteller. Have you ever heard the tale of the three wine brothers?\",\n    position: 0,\n    action: \"decision\"\n  }, {\n    text: \"Well, a long time ago, there were three brothers.\",\n    position: 20\n  }, {\n    text: \"Their parents were makers of fine wines and the boys often played in the mysical vinyards.\",\n    position: 840\n  }, {\n    text: \"One day, they found a golden grape.\",\n    position: 2020 // Gold = 2020\n\n  }, {\n    text: \"Curious as they were, they picked it.\",\n    position: 2320\n  }, {\n    text: \"Suddenly, a door appeared. They jumped in and entered a magical world.\",\n    position: 2600\n  }, {\n    text: \"Green hills covered in golden sunlight rose before them.\",\n    position: 2920,\n    // Mountain appears\n    mountainTop: 40,\n    mountainBottom: 60\n  }, {\n    text: \"The air was full of laughter, singing and loud voices.\",\n    position: 3720,\n    mountainTop: 40,\n    mountainBottom: 60\n  }, {\n    text: \"Following the sounds they found themselves on a busy marketplace.\",\n    position: 4720,\n    mountainTop: 40,\n    mountainBottom: 60,\n    land: true\n  }, {\n    text: \"Everyone was drinking from big glasses of wine. They couldn’t believe how cheap it was.\",\n    position: 6200,\n    // Midday\n    mountainTop: 40,\n    mountainBottom: 60,\n    land: true\n  }, {\n    text: \"The three brothers loved it here and decided to stay.\",\n    position: 7400,\n    mountainTop: 40,\n    mountainBottom: 60,\n    land: true\n  }, {\n    text: \"That’s how they founded their own wine village called Mußbach.\",\n    position: 7900,\n    mountainTop: 40,\n    mountainBottom: 60,\n    land: true\n  }, {\n    text: \"A village where time slows down and strangers become friends.\",\n    position: 8900,\n    mountainTop: 40,\n    mountainBottom: 60,\n    land: true\n  }, {\n    text: \"This year, you are given the golden grape to enter that magical place.\",\n    position: 10000,\n    land: true,\n    mountainTop: 20,\n    mountainBottom: 50\n  }, {\n    text: \"On Friday take your time to arrive and settle.\",\n    position: 11500,\n    mountainTop: 20,\n    mountainBottom: 40,\n    land: true\n  }, {\n    text: \"Have a good night sleep from a work week and train ride.\",\n    position: 13100,\n    mountainTop: 20,\n    mountainBottom: 40,\n    land: true,\n    moon: true\n  }, {\n    text: \"After a slow Saturday morning we embark on our first adventure. Green hills are calling for a wine expedition.\",\n    position: 15000,\n    mountainTop: 20,\n    mountainBottom: 40,\n    land: true\n  }, {\n    text: \"Regional wine and delicious regional food awaits us at the hill top.\",\n    position: 16000,\n    mountainTop: 20,\n    mountainBottom: 40,\n    land: true\n  }, {\n    text: \"That’s where we hang out until we are reenergized. \",\n    position: 17000,\n    mountainTop: 20,\n    mountainBottom: 40,\n    land: true\n  }, {\n    text: \"The way down everything seems a little bit easier.\",\n    position: 18000,\n    mountainTop: 70,\n    mountainBottom: 90,\n    land: true\n  }, {\n    text: \"Before you notice we’re back home to enjoy a nap in the hammock.\",\n    position: 20000,\n    mountainTop: 70,\n    mountainBottom: 80,\n    land: true\n  }, {\n    text: \"When the sun sets, we walk to the vibrating marketplace and the wine festival.\",\n    position: 22500,\n    mountainTop: 20,\n    mountainBottom: 30,\n    land: true\n  }, {\n    text: \"Let’s hope there is enough wine for everyone.\",\n    position: 25500,\n    mountainTop: 20,\n    mountainBottom: 30,\n    land: true,\n    moon: true\n  }, {\n    text: \"Who knows where the night will end?\",\n    position: 26500,\n    // Night\n    mountainTop: 20,\n    mountainBottom: 30,\n    land: true,\n    moon: true\n  }, {\n    text: \"Fast forward. The next morning might be a bit hard. But believe me, it was worth it.\",\n    position: 29000,\n    // Morning\n    mountainTop: 20,\n    mountainBottom: 30,\n    land: true\n  }, {\n    text: \"Finally, even in the tiny village of Mußbach time is passing, however slowly.\",\n    position: 29500,\n    // Midday\n    mountainTop: 20,\n    mountainBottom: 30,\n    land: true\n  }, {\n    text: \"Are you curious to be part of this event?\",\n    position: 32000\n  }, {\n    text: \"Make sure to block the 03 to 05 of July in your calendar.\",\n    position: 33000\n  }, {\n    text: \"Sign up and I’ll let you know once things get more serious.\",\n    position: 32500,\n    signup: true,\n    keysDisabled: true\n  }];\n\n  const _useState5 = useState(storyPoints[0]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        storyPoint = _useState6[0],\n        setStoryPoint = _useState6[1];\n\n  const _useState7 = useState(0),\n        _useState8 = _slicedToArray(_useState7, 2),\n        storyIndex = _useState8[0],\n        setStoryIndex = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        isHidden = _useState10[0],\n        setIsHidden = _useState10[1];\n\n  useEffect(() => {\n    document.onkeydown = event => {\n      if (event.keyCode === 39) changeScene('forward');else if (event.keyCode === 37) changeScene('backward');\n    }; // Loading scene\n\n\n    setTimeout(() => {\n      setLoading(false);\n    }, 2500);\n  }, []);\n\n  const changeScene = (direction = 'forward', forceUnblock = false) => {\n    if (storyIndex === storyPoints.length - 1) return;\n    if (blockSceneChange && !forceUnblock) return;\n    let _storyIndex = storyIndex;\n    blockNameChange(_storyIndex, direction); // Hide text and change it\n\n    if (_storyIndex < storyPoints.length - 1 && _storyIndex > 0) setIsHidden(true); // Change story point\n\n    if (direction === 'forward' && _storyIndex < storyPoints.length - 1) ++_storyIndex;else if (direction === 'backward' && _storyIndex > 0) _storyIndex--;\n    let contentElement = document.getElementById('weinfest-content');\n    contentElement.style.marginLeft = '-' + storyPoints[_storyIndex].position + 'px';\n    setTimeout(() => {\n      // Next story point\n      setStoryPoint(storyPoints[_storyIndex]);\n      setStoryIndex(_storyIndex);\n      setIsHidden(false);\n      nameInput.current.focus();\n    }, 700);\n  };\n\n  const blockNameChange = (_storyIndex, direction) => {\n    if (direction === 'forward' && storyPoints[_storyIndex + 1].name) {\n      setBlockSceneChange(true);\n    } else if (direction === 'backward' && storyPoints[_storyIndex - 1].name) {\n      setBlockSceneChange(true);\n    }\n  };\n\n  const unblockNameChange = event => {\n    // Unblock with enter and change name\n    if (event.keyCode === 13) {\n      // Default name\n      if (nameInput.current.value.length === 0) nameInput.current.value = \"Mysterious\";\n      setBlockSceneChange(false);\n      storyPoints[2].text = \"Hello \" + nameInput.current.value + \", nice to meet you.\";\n      setStoryIndex(2);\n      console.log(storyIndex);\n      changeScene('forward', true);\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: 'loader-1 loader ' + (!loading ? 'hidden' : ''),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304\n    },\n    __self: this\n  }, \"Loading...\")), React.createElement(\"div\", {\n    className: 'loader-2 loader ' + (!loading ? 'hidden' : ''),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"weinfest-page evening\",\n    onClick: () => changeScene('forward'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: 'story ' + (isHidden ? ' hide-story' : ' show-story'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308\n    },\n    __self: this\n  }, storyPoint.text, React.createElement(\"div\", {\n    style: {\n      display: storyPoint.name ? 'block' : 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    ref: nameInput,\n    type: \"text\",\n    onKeyDown: unblockNameChange,\n    className: 'input-name',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    src: enterKey,\n    alt: 'enter',\n    className: 'name-enter',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"helper-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314\n    },\n    __self: this\n  }, \"Please start typing, then hit enter.\")), React.createElement(\"a\", {\n    target: \"_blank\",\n    style: {\n      display: storyPoint.signup ? 'block' : 'none'\n    },\n    className: 'signup',\n    href: \"https://sascharedmond.typeform.com/to/Y4VHnL\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317\n    },\n    __self: this\n  }, \"Sign up here\")), React.createElement(\"div\", {\n    className: \"progress\",\n    style: {\n      width: storyIndex / storyPoints.length * 100 + '%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    className: 'assistant',\n    src: assistant,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: 'weinfest-content',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    target: \"_blank\",\n    className: 'signup-quick',\n    href: \"https://sascharedmond.typeform.com/to/Y4VHnL\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326\n    },\n    __self: this\n  }, \"Sign up without the story\"), React.createElement(\"img\", {\n    className: 'mountain mountain-bottom',\n    alt: \"mountain-bottom\",\n    style: {\n      bottom: storyPoint.mountainBottom ? -storyPoint.mountainBottom : -420\n    },\n    src: mountain1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    className: 'mountain mountain-top',\n    alt: \"mountain-top\",\n    style: {\n      bottom: storyPoint.mountainTop ? -storyPoint.mountainTop : -420\n    },\n    src: mountain2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    className: 'land',\n    alt: \"land\",\n    style: {\n      bottom: storyPoint.land ? 0 : -200\n    },\n    src: land,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    className: 'portal',\n    alt: \"portal\",\n    style: {\n      bottom: storyPoint.portal ? 20 : -800\n    },\n    src: portal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    className: 'moon',\n    alt: \"moon\",\n    style: {\n      bottom: storyPoint.moon ? 300 : -400\n    },\n    src: moon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    src: storyPoint.keysDisabled ? keysDisabled : keys,\n    className: 'keys',\n    alt: \"keys\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338\n    },\n    __self: this\n  }))));\n}\n\n;\nexport default Weinfest;","map":{"version":3,"sources":["/Users/sba/Feierei/src/components/weinfest/index.js"],"names":["React","useState","useEffect","useRef","Weinfest","blockSceneChange","setBlockSceneChange","loading","setLoading","nameInput","storyPoints","text","position","name","keysDisabled","action","mountainTop","mountainBottom","land","moon","signup","storyPoint","setStoryPoint","storyIndex","setStoryIndex","isHidden","setIsHidden","document","onkeydown","event","keyCode","changeScene","setTimeout","direction","forceUnblock","length","_storyIndex","blockNameChange","contentElement","getElementById","style","marginLeft","current","focus","unblockNameChange","value","console","log","display","enterKey","width","assistant","bottom","mountain1","mountain2","portal","keys"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './styles.scss';\nimport mountain1 from '../../assets/mountain1.svg';\nimport mountain2 from '../../assets/mountain2.svg';\nimport land from '../../assets/land.svg';\nimport portal from '../../assets/portal.svg';\nimport moon from '../../assets/moon.svg';\nimport enterKey from '../../assets/enter.svg';\nimport keys from '../../assets/keys.svg';\nimport keysDisabled from '../../assets/keys-disabled.svg';\nimport assistant from '../../assets/assistant.svg';\n\nfunction Weinfest() {\n\n    const [blockSceneChange, setBlockSceneChange] = useState(false);\n    const [loading, setLoading] = useState(true);\n\n    const nameInput = useRef(null);\n\n    const storyPoints = [\n        {\n            text: \"Welcome stranger. I’m Robin, a visitor from a magical place in the south of Germany.\",\n            position: 0,\n        },\n        {\n            text: \"What might I call you?\",\n            position: 0,\n            name: true,\n            keysDisabled: true,\n        },\n        {\n            text: \"Hello, nice to meet you.\",\n            position: 0,\n        },\n        {\n            text: \"I’m a bit of a storyteller. Have you ever heard the tale of the three wine brothers?\",\n            position: 0,\n            action: \"decision\",\n        },\n        {\n            text: \"Well, a long time ago, there were three brothers.\",\n            position: 20,\n        },\n        {\n            text: \"Their parents were makers of fine wines and the boys often played in the mysical vinyards.\",\n            position: 840,\n        },\n        {\n            text: \"One day, they found a golden grape.\",\n            position: 2020, // Gold = 2020\n        },\n        {\n            text: \"Curious as they were, they picked it.\",\n            position: 2320,\n        },\n        {\n            text: \"Suddenly, a door appeared. They jumped in and entered a magical world.\",\n            position: 2600,\n        },\n        {\n            text: \"Green hills covered in golden sunlight rose before them.\",\n            position: 2920, // Mountain appears\n            mountainTop: 40,\n            mountainBottom: 60,\n        },\n        {\n            text: \"The air was full of laughter, singing and loud voices.\",\n            position: 3720,\n            mountainTop: 40,\n            mountainBottom: 60,\n        },\n        {\n            text: \"Following the sounds they found themselves on a busy marketplace.\",\n            position: 4720,\n            mountainTop: 40,\n            mountainBottom: 60,\n            land: true,\n        },\n        {\n            text: \"Everyone was drinking from big glasses of wine. They couldn’t believe how cheap it was.\",\n            position: 6200, // Midday\n            mountainTop: 40,\n            mountainBottom: 60,\n            land: true,\n        },\n        {\n            text: \"The three brothers loved it here and decided to stay.\",\n            position: 7400,\n            mountainTop: 40,\n            mountainBottom: 60,\n            land: true,\n        },\n        {\n            text: \"That’s how they founded their own wine village called Mußbach.\",\n            position: 7900,\n            mountainTop: 40,\n            mountainBottom: 60,\n            land: true,\n        },\n        {\n            text: \"A village where time slows down and strangers become friends.\",\n            position: 8900,\n            mountainTop: 40,\n            mountainBottom: 60,\n            land: true,\n        },\n        {\n            text: \"This year, you are given the golden grape to enter that magical place.\",\n            position: 10000,\n            land: true,\n            mountainTop: 20,\n            mountainBottom: 50,\n        },\n        {\n            text: \"On Friday take your time to arrive and settle.\",\n            position: 11500,\n            mountainTop: 20,\n            mountainBottom: 40,\n            land: true,\n        },\n        {\n            text: \"Have a good night sleep from a work week and train ride.\",\n            position: 13100,\n            mountainTop: 20,\n            mountainBottom: 40,\n            land: true,\n            moon: true,\n        },\n        {\n            text: \"After a slow Saturday morning we embark on our first adventure. Green hills are calling for a wine expedition.\",\n            position: 15000,\n            mountainTop: 20,\n            mountainBottom: 40,\n            land: true,\n        },\n        {\n            text: \"Regional wine and delicious regional food awaits us at the hill top.\",\n            position: 16000,\n            mountainTop: 20,\n            mountainBottom: 40,\n            land: true,\n        },\n        {\n            text: \"That’s where we hang out until we are reenergized. \",\n            position: 17000,\n            mountainTop: 20,\n            mountainBottom: 40,\n            land: true,\n        },\n        {\n            text: \"The way down everything seems a little bit easier.\",\n            position: 18000,\n            mountainTop: 70,\n            mountainBottom: 90,\n            land: true,\n        },\n        {\n            text: \"Before you notice we’re back home to enjoy a nap in the hammock.\",\n            position: 20000,\n            mountainTop: 70,\n            mountainBottom: 80,\n            land: true,\n        },\n        {\n            text: \"When the sun sets, we walk to the vibrating marketplace and the wine festival.\",\n            position: 22500,\n            mountainTop: 20,\n            mountainBottom: 30,\n            land: true,\n        },\n        {\n            text: \"Let’s hope there is enough wine for everyone.\",\n            position: 25500,\n            mountainTop: 20,\n            mountainBottom: 30,\n            land: true,\n            moon: true,\n        },\n        {\n            text: \"Who knows where the night will end?\",\n            position: 26500, // Night\n            mountainTop: 20,\n            mountainBottom: 30,\n            land: true,\n            moon: true,\n        },\n        {\n            text: \"Fast forward. The next morning might be a bit hard. But believe me, it was worth it.\",\n            position: 29000, // Morning\n            mountainTop: 20,\n            mountainBottom: 30,\n            land: true,\n        },\n        {\n            text: \"Finally, even in the tiny village of Mußbach time is passing, however slowly.\",\n            position: 29500, // Midday\n            mountainTop: 20,\n            mountainBottom: 30,\n            land: true,\n        },\n        {\n            text: \"Are you curious to be part of this event?\",\n            position: 32000,\n        },\n        {\n            text: \"Make sure to block the 03 to 05 of July in your calendar.\",\n            position: 33000,\n        },\n        {\n            text: \"Sign up and I’ll let you know once things get more serious.\",\n            position: 32500,\n            signup: true,\n            keysDisabled: true,\n        },\n    ]  \n    \n    const [storyPoint, setStoryPoint] = useState(storyPoints[0]);\n    const [storyIndex, setStoryIndex] = useState(0);\n    const [isHidden, setIsHidden] = useState(false);\n\n    useEffect(() => {\n\n        document.onkeydown = (event) => {\n            \n            if (event.keyCode === 39)\n                changeScene('forward');\n            else if (event.keyCode === 37)\n                changeScene('backward')\n        };\n\n        // Loading scene\n        setTimeout(() => {\n            setLoading(false);\n        }, 2500);\n    }, []);\n\n    const changeScene = (direction = 'forward', forceUnblock = false) => {\n\n        if (storyIndex === storyPoints.length - 1)\n            return;\n\n        if (blockSceneChange && !forceUnblock)\n            return;\n\n        let _storyIndex = storyIndex;\n\n        blockNameChange(_storyIndex, direction);\n\n        // Hide text and change it\n        if (_storyIndex < storyPoints.length - 1 && _storyIndex > 0)\n            setIsHidden(true);\n\n        // Change story point\n        if (direction === 'forward' && _storyIndex < storyPoints.length - 1)\n            ++_storyIndex;\n        else if (direction === 'backward' && _storyIndex > 0)\n            _storyIndex--;\n\n        let contentElement = document.getElementById('weinfest-content');\n        contentElement.style.marginLeft = '-' + storyPoints[_storyIndex].position + 'px';\n\n        setTimeout(() => {\n            // Next story point\n            setStoryPoint(storyPoints[_storyIndex]);\n            setStoryIndex(_storyIndex);\n            setIsHidden(false);\n\n            nameInput.current.focus(); \n\n        }, 700);\n    };\n\n    const blockNameChange = (_storyIndex, direction) => {\n\n        if (direction === 'forward' && storyPoints[_storyIndex + 1].name) {\n            setBlockSceneChange(true);     \n        }\n        else if (direction === 'backward' && storyPoints[_storyIndex - 1].name) {\n            setBlockSceneChange(true);     \n        }\n    };\n\n    const unblockNameChange = (event) => {\n\n        // Unblock with enter and change name\n        if (event.keyCode === 13) {\n\n            // Default name\n            if (nameInput.current.value.length === 0)\n                nameInput.current.value = \"Mysterious\";\n\n            setBlockSceneChange(false);\n            storyPoints[2].text = \"Hello \" + nameInput.current.value + \", nice to meet you.\";\n\n            setStoryIndex(2);\n            console.log(storyIndex);\n            \n            changeScene('forward', true);\n        }\n    }\n\n    return (\n        <>  \n            <div className={'loader-1 loader ' + (!loading ? 'hidden' : '')}><span>Loading...</span></div> \n            <div className={'loader-2 loader ' + (!loading ? 'hidden' : '')}></div> \n            <div className='weinfest-page evening' onClick={() => changeScene('forward')}>\n\n                <span className={'story ' + (isHidden ? ' hide-story' : ' show-story')}>\n                    {storyPoint.text}\n\n                    <div style={{display: storyPoint.name ? 'block' : 'none'}}>\n                        <input ref={nameInput} type='text' onKeyDown={unblockNameChange} className={'input-name'}/>\n                        <img src={enterKey} alt={'enter'} className={'name-enter'} />\n                        <span className='helper-text'>Please start typing, then hit enter.</span>\n                    </div>\n\n                    <a target='_blank' style={{display: storyPoint.signup ? 'block' : 'none'}} className={'signup'} href='https://sascharedmond.typeform.com/to/Y4VHnL'>Sign up here</a>\n                </span>\n\n                <div className='progress' style={{width: (storyIndex)/ storyPoints.length * 100 + '%'}}></div>\n\n                <img className={'assistant'} src={assistant} />\n\n                <div id={'weinfest-content'}>\n\n                <a target='_blank' className={'signup-quick'} href='https://sascharedmond.typeform.com/to/Y4VHnL'>Sign up without the story</a>\n\n                    <img className={'mountain mountain-bottom'} alt='mountain-bottom' style={{bottom: storyPoint.mountainBottom ? -storyPoint.mountainBottom : -420}} src={mountain1}/>\n\n                    <img className={'mountain mountain-top'} alt='mountain-top' style={{bottom: storyPoint.mountainTop ? -storyPoint.mountainTop : -420}} src={mountain2}/>\n                    \n                    <img className={'land'} alt='land' style={{bottom: storyPoint.land ? 0 : -200}} src={land}/>\n\n                    <img className={'portal'} alt='portal' style={{bottom: storyPoint.portal ? 20 : -800}} src={portal}/>\n\n                    <img className={'moon'} alt='moon' style={{bottom: storyPoint.moon ? 300 : -400}} src={moon}/>\n\n                    <img src={storyPoint.keysDisabled ? keysDisabled : keys} className={'keys'} alt='keys'/>\n                    \n                </div>\n            </div>\n            \n        </>\n    );\n};\n\nexport default Weinfest;"]},"metadata":{},"sourceType":"module"}